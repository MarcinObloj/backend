function updatePreview(e){var t=e.target.id,e=e.target.value,t=document.getElementById("preview-"+t);t&&(t.querySelector("p").innerHTML=e)}function insertTag(e){var t,n,o,r,a=document.querySelector("textarea:focus");a&&(t=a.selectionStart,r=a.selectionEnd,o=(n=a.value).substring(0,t),r=n.substring(r,n.length),a.value=o+e+r,a.selectionStart=a.selectionEnd=t+e.length/2,a.focus(),updatePreview({target:a}))}var inputs=document.querySelectorAll("input, textarea");function getParameterByName(e){return new URLSearchParams(window.location.search).get(e)}inputs.forEach(function(e){e.addEventListener("input",updatePreview)}),document.querySelector(".btn-bold").addEventListener("click",function(){return insertTag("<b></b>")}),document.querySelector(".btn-strike-through").addEventListener("click",function(){return insertTag("<s></s>")}),document.querySelector(".btn-underline").addEventListener("click",function(){return insertTag("<u></u>")}),document.querySelector(".btn-list").addEventListener("click",function(){return insertTag("<ul><li></li></ul>")}),document.querySelector(".btn-ordered-list").addEventListener("click",function(){return insertTag("<ol><li></li></ol>")}),document.getElementById("photo-upload").addEventListener("change",function(e){var t,e=e.target.files[0];e&&((t=new FileReader).onload=function(e){document.getElementById("preview-photo").innerHTML='<img src="'.concat(e.target.result,'" alt="Photo">')},t.readAsDataURL(e))}),document.addEventListener("DOMContentLoaded",function(){var e,t=getParameterByName("image");t?(e=document.getElementById("cv-preview"))?(e.style.backgroundImage="url(".concat(decodeURIComponent(t),")"),e.style.backgroundSize="cover",e.style.backgroundPosition="center"):console.error('Element o ID "cv-preview" nie został znaleziony.'):console.error('Parametr "image" nie został znaleziony w URL.'),document.getElementById("save-cv").addEventListener("click",function(e){e.preventDefault(),console.log("Kliknięcie zarejestrowane!");var e=document.getElementById("cv-preview").outerHTML,t=(console.log("Pobrany HTML:",e),new FormData);t.append("cvContent",new Blob([e],{type:"text/html"})),t.append("userId",135),console.log("Rozpoczynanie fetch..."),fetch("http://localhost:8080/api/cvfile/uploadPdf",{method:"POST",body:t}).then(function(e){return console.log("Fetch zakończony. Status odpowiedzi:",e.status),e.ok?e.text():(console.error("Fetch error:",e),e.text().then(function(e){throw new Error(e)}))}).then(function(e){console.log("Odpowiedź serwera:",e),alert("CV saved successfully!"),window.location.href="thirdstep.html"}).catch(function(e){console.error("Błąd podczas przetwarzania odpowiedzi:",e),alert("Wystąpił błąd podczas zapisywania CV: "+e.message)})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlY29uZHN0ZXAuanMiXSwibmFtZXMiOlsidXBkYXRlUHJldmlldyIsImV2ZW50IiwiaW5wdXRJZCIsInRhcmdldCIsImlkIiwidmFsdWUiLCJnZXRFbGVtZW50QnlJZCIsInByZXZpZXdFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsImlucHV0VmFsdWUiLCJpbnNlcnRUYWciLCJ0YWciLCJzdGFydCIsInRleHRhcmVhIiwiYmVmb3JlIiwiYWZ0ZXIiLCJzZWxlY3Rpb25TdGFydCIsImVuZCIsInNlbGVjdGlvbkVuZCIsInN1YnN0cmluZyIsInRleHQiLCJsZW5ndGgiLCJpbnB1dHMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ1cmxQYXJhbXMiLCJuYW1lIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJnZXQiLCJmb3JFYWNoIiwiaW5wdXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZmlsZSIsImZpbGVzIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImUiLCJjb25jYXQiLCJyZXN1bHQiLCJyZWFkZXIiLCJjdlByZXZpZXdFbGVtZW50IiwiaW1hZ2VVcmwiLCJwcmV2aWV3UGhvdG8iLCJkZWNvZGVVUklDb21wb25lbnQiLCJzdHlsZSIsImJhY2tncm91bmRTaXplIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiY29uc29sZSIsImVycm9yIiwib3V0ZXJIVE1MIiwiZm9ybURhdGEiLCJsb2ciLCJjdkNvbnRlbnQiLCJGb3JtRGF0YSIsImFwcGVuZCIsInR5cGUiLCJtZXRob2QiLCJib2R5IiwicmVzcG9uc2UiLCJzdGF0dXMiLCJvayIsInRoZW4iLCJlcnJvclRleHQiLCJFcnJvciIsImRhdGEiLCJhbGVydCIsImhyZWYiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiQUFDQSxTQUFTQSxjQUFjQyxHQUR2QixJQUFBQyxFQUFBRCxFQUFBRSxPQUFBQyxHQUNTSixFQUFjQyxFQUFLRSxPQUFFRSxNQUNwQkgsRUFBZ0JDLFNBQVNHLGVBQUEsV0FBQUosQ0FBQSxFQUV6QkssSUFFRkEsRUFBZ0JDLGNBQUEsR0FBQSxFQUFBQyxVQUFBQyxFQUd4QixDQUVBLFNBQUFDLFVBQUFDLEdBQ0EsSUFFZ0JDLEVBRUlDLEVBQ0ZDLEVBQ0VDLEVBTlhMLEVBQVVDLFNBQUtKLGNBQUEsZ0JBQUEsRUFDZE0sSUFDTUQsRUFBRUMsRUFBQUcsZUFDQ0MsRUFBR0osRUFBU0csYUFFYkYsR0FERUQsRUFBQUEsRUFBU0ssT0FDQ2QsVUFBSyxFQUFBUSxDQUFBLEVBQ2ZHLEVBQVFJLEVBQUFBLFVBQWFQLEVBQU1RLEVBQUFDLE1BQUEsRUFDakNOLEVBQVFLLE1BQUtELEVBQWFSLEVBQU1JLEVBQ3RDRixFQUFTVCxlQUFvQlMsRUFBUUssYUFBQU4sRUFBQUQsRUFBQVUsT0FBQSxFQUNyQ1IsRUFBU0csTUFBQUEsRUFDVEgsY0FBZ0IsQ0FBQVgsT0FBQVcsQ0FBQSxDQUFBLEVBR3hCLENBQUEsSUFBQVMsT0FBQUMsU0FBQUMsaUJBQUEsaUJBQUEsRUErRkEsU0FFV0MsbUJBQW1CQyxHQUExQixPQUNKLElBQUFDLGdCQUFBQyxPQUFBQyxTQUFBQyxNQUFBLEVBRHFCQyxJQUFJTCxDQUFJLENBQzdCLENBOUZBSixPQUFPVSxRQUFRLFNBQUNDLEdBRmhCQSxFQUFBQyxpQkFBQSxRQUFBbkMsYUFBQSxDQUNBLENBQUEsRUFHQXdCLFNBQUVoQixjQUFBLFdBQUEsRUFBQTJCLGlCQUFBLFFBQUEsV0FBQSxPQUFBeEIsVUFBQSxTQUFBLENBQUEsQ0FBQSxFQUlGYSxTQUFTaEIsY0FBYyxxQkFBcUIsRUFBRTJCLGlCQUFpQixRQUFTLFdBQUEsT0FBTXhCLFVBQVUsU0FBUyxDQUFDLENBQUEsRUFGbEdhLFNBQUFoQixjQUFBLGdCQUFBLEVBQUEyQixpQkFBQSxRQUFBLFdBQUEsT0FBQXhCLFVBQUEsU0FBQSxDQUFBLENBQUEsRUFDQWEsU0FBU2hCLGNBQWMsV0FBVyxFQUFFMkIsaUJBQWlCLFFBQVMsV0FBQSxPQUFBeEIsVUFBQSxvQkFBQSxDQUFBLENBQUEsRUFJOURhLFNBSm9FYixjQUFVLG1CQUFVLEVBQUF3QixpQkFBQSxRQUFBLFdBQUEsT0FBQXhCLFVBQUEsb0JBQUEsQ0FBQSxDQUFBLEVBT3hGYSxTQU44RWIsZUFBVSxjQUFVLEVBQUF3QixpQkFBQSxTQUFBLFNBQUFsQyxHQUFDLElBQzFCVSxFQUQwQnlCLEVBQUFuQyxFQUFBRSxPQUFBa0MsTUFBQSxHQUMzRkQsS0FBaUV6QixFQUFVLElBQUEyQixZQUFXQyxPQUFBLFNBQUFDLEdBQ3ZFaEIsU0FBYVcsZUFBaUIsZUFBUyxFQUFnQjFCLFVBQUEsYUFBQWdDLE9BQXFCRCxFQUFBckMsT0FBQXVDLE9BQUEsZ0JBQUEsQ0FBQyxFQUM1RkMsRUFBQ25DLGNBQWM0QixDQUFBLEVBQW9GLENBQUEsRUFHM0daLFNBQVNsQixpQkFBZSxtQkFBZ0I2QixXQUNwQyxJQUVnQlMsRUFGTkMsRUFBUzFDLG1CQUFlLE9BQUEsRUFDOUJpQyxHQUNZUSxFQUFtQnBCLFNBQUFsQixlQUFBLFlBQUEsSUFFckJ3QyxFQUFldEIsTUFBU2xCLGdCQUFlLE9BQUFtQyxPQUFBTSxtQkFBZ0JGLENBQUEsRUFBQSxHQUFBLEVBQzdEQyxFQUFzQkUsTUFBQUMsZUFBZ0JULFFBQ3pDSSxFQUFBSSxNQUFBRSxtQkFBQSxVQUVMQyxRQUFBQyxNQUFBLGtEQUFBLEVBR0pELFFBQUFDLE1BQUEsK0NBQUEsRUFHSTVCLFNBQUlxQixlQUFVLFNBQUEsRUFBQVYsaUJBQUEsUUFBQSxTQUFBbEMsR0FDSjJDLEVBQUFBLGVBQW1CcEIsRUFFckJvQixRQUFBQSxJQUFBQSw0QkFBc0MsRUFFdENBLElBQUFBLEVBQWlCSSxTQUFNRSxlQUFxQixZQUFRLEVBQUFHLFVBSXJEQyxHQUhGSCxRQUFNSSxJQUFBLGdCQUFBQyxDQUFBLEVBR0osSUFBQUMsVUFDSE4sRUFBYU8sT0FDakIsWUFFU3BELElBQUFBLEtBQUFBLENBQUFBLEdBQWUsQ0FBVXFELEtBQUN4QixXQUFpQixDQUFBLENBQ2hEbEMsRUFFQWtELEVBQVlPLE9BQUEsU0FSWixHQVFZLEVBR1pQLFFBQVlJLElBQUEsd0JBQTJCLEVBR2pDRCxNQUFBQSw2Q0FBeUIsQ0FHR00sT0FBQSxPQUFlQyxLQUFBUCxDQUNoRCxDQUFBLEVBQ1FJLEtBQUFBLFNBQU1JLEdBU0wsT0FQRVgsUUFBQUksSUFFTix1Q0FDRk8sRUFBQUMsTUFDUSxFQUdGRCxFQUFTRSxHQVdYRixFQUFBekMsS0FBQSxHQVRJOEIsUUFBQUMsTUFBQSxlQUFBVSxDQUNBQSxFQUdjQSxFQUFBekMsS0FBQSxFQUFBNEMsS0FBQSxTQUFBQyxHQUNBLE1BQUEsSUFBQUMsTUFBZ0JMLENBQVMsQ0FDaENBLENBQUFBLEVBS1gsQ0FBT0EsRUFFTEcsS0FBQSxTQUFBRyxHQUNNYixRQUFJQSxJQUFBLHFCQUEyQmEsQ0FBQSxFQUNqQ0MsTUFBQSx3QkFBeUIsRUFFeEJ2QyxPQUFTd0MsU0FBT0EsS0FBQSxnQkFDekIsQ0FBQSxFQUFBLE1BRWUsU0FBQ2xCLEdBQ1JELFFBQUFDLE1BQUEseUNBQXlEQSxDQUFBLEVBQ2pFaUIsTUFBQSx5Q0FBQWpCLEVBQUFtQixPQUFBLENBQ1IsQ0FBQSxDQUNKLENBQUEsQ0FFRixDQUFBIiwiZmlsZSI6InNlY29uZHN0ZXAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBDViBwcmV2aWV3IGluIHJlYWwtdGltZVxyXG5mdW5jdGlvbiB1cGRhdGVQcmV2aWV3KGV2ZW50KSB7XHJcbiAgICBjb25zdCBpbnB1dElkID0gZXZlbnQudGFyZ2V0LmlkO1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgIGNvbnN0IHByZXZpZXdFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctJyArIGlucHV0SWQpO1xyXG5cclxuICAgIGlmIChwcmV2aWV3RWxlbWVudCkge1xyXG4gICAgICAgIHByZXZpZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3AnKS5pbm5lckhUTUwgPSBpbnB1dFZhbHVlO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBGdW5jdGlvbiB0byBpbnNlcnQgSFRNTCB0YWdzIGF0IHRoZSBjdXJzb3IgcG9zaXRpb24gaW4gdGhlIHRleHRhcmVhXHJcbmZ1bmN0aW9uIGluc2VydFRhZyh0YWcpIHtcclxuICAgIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGV4dGFyZWE6Zm9jdXMnKTtcclxuICAgIGlmICh0ZXh0YXJlYSkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQ7XHJcbiAgICAgICAgY29uc3QgZW5kID0gdGV4dGFyZWEuc2VsZWN0aW9uRW5kO1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSB0ZXh0YXJlYS52YWx1ZTtcclxuICAgICAgICBjb25zdCBiZWZvcmUgPSB0ZXh0LnN1YnN0cmluZygwLCBzdGFydCk7XHJcbiAgICAgICAgY29uc3QgYWZ0ZXIgPSB0ZXh0LnN1YnN0cmluZyhlbmQsIHRleHQubGVuZ3RoKTtcclxuICAgICAgICB0ZXh0YXJlYS52YWx1ZSA9IGJlZm9yZSArIHRhZyArIGFmdGVyO1xyXG4gICAgICAgIHRleHRhcmVhLnNlbGVjdGlvblN0YXJ0ID0gdGV4dGFyZWEuc2VsZWN0aW9uRW5kID0gc3RhcnQgKyB0YWcubGVuZ3RoIC8gMjtcclxuICAgICAgICB0ZXh0YXJlYS5mb2N1cygpO1xyXG4gICAgICAgIHVwZGF0ZVByZXZpZXcoeyB0YXJnZXQ6IHRleHRhcmVhIH0pOyAvLyBVcGRhdGUgcHJldmlldyBhZnRlciBpbnNlcnRpbmcgdGFnXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEF0dGFjaCBldmVudCBsaXN0ZW5lcnMgdG8gYWxsIGlucHV0IGFuZCB0ZXh0YXJlYSBlbGVtZW50c1xyXG5jb25zdCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgdGV4dGFyZWEnKTtcclxuaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZVByZXZpZXcpO1xyXG59KTtcclxuXHJcbi8vIEF0dGFjaCBldmVudCBsaXN0ZW5lcnMgdG8gZm9ybWF0dGluZyBidXR0b25zXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tYm9sZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaW5zZXJ0VGFnKCc8Yj48L2I+JykpO1xyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLXN0cmlrZS10aHJvdWdoJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpbnNlcnRUYWcoJzxzPjwvcz4nKSk7XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tdW5kZXJsaW5lJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpbnNlcnRUYWcoJzx1PjwvdT4nKSk7XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tbGlzdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaW5zZXJ0VGFnKCc8dWw+PGxpPjwvbGk+PC91bD4nKSk7XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tb3JkZXJlZC1saXN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBpbnNlcnRUYWcoJzxvbD48bGk+PC9saT48L29sPicpKTtcclxuXHJcbi8vIEhhbmRsZSBpbWFnZSB1cGxvYWRcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob3RvLXVwbG9hZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTtcclxuICAgIGlmIChmaWxlKSB7XHJcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJldmlld1Bob3RvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctcGhvdG8nKTtcclxuICAgICAgICAgICAgcHJldmlld1Bob3RvLmlubmVySFRNTCA9IGA8aW1nIHNyYz1cIiR7ZS50YXJnZXQucmVzdWx0fVwiIGFsdD1cIlBob3RvXCI+YDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIE9uIGRvY3VtZW50IGxvYWQsIGhhbmRsZSBpbWFnZSBVUkwgZm9yIGJhY2tncm91bmRcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IGltYWdlVXJsID0gZ2V0UGFyYW1ldGVyQnlOYW1lKCdpbWFnZScpO1xyXG4gICAgaWYgKGltYWdlVXJsKSB7XHJcbiAgICAgICAgY29uc3QgY3ZQcmV2aWV3RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdi1wcmV2aWV3Jyk7XHJcbiAgICAgICAgaWYgKGN2UHJldmlld0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgY3ZQcmV2aWV3RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7ZGVjb2RlVVJJQ29tcG9uZW50KGltYWdlVXJsKX0pYDtcclxuICAgICAgICAgICAgY3ZQcmV2aWV3RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9ICdjb3Zlcic7XHJcbiAgICAgICAgICAgIGN2UHJldmlld0VsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gJ2NlbnRlcic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRWxlbWVudCBvIElEIFwiY3YtcHJldmlld1wiIG5pZSB6b3N0YcWCIHpuYWxlemlvbnkuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdQYXJhbWV0ciBcImltYWdlXCIgbmllIHpvc3RhxYIgem5hbGV6aW9ueSB3IFVSTC4nKTtcclxuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZS1jdicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0tsaWtuacSZY2llIHphcmVqZXN0cm93YW5lIScpO1xyXG5cclxuICAgICAgICBjb25zdCBjdkNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3YtcHJldmlldycpLm91dGVySFRNTDtcclxuICAgICAgICBjb25zb2xlLmxvZygnUG9icmFueSBIVE1MOicsIGN2Q29udGVudCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IDEzNTtcclxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcclxuICAgICAgICAgICAgJ2N2Q29udGVudCcsXHJcbiAgICAgICAgICAgIG5ldyBCbG9iKFtjdkNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L2h0bWwnIH0pIC8vIFByemVzecWCYW5pZSBIVE1MIGpha28gJ3RleHQvaHRtbCdcclxuICAgICAgICApO1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcklkJywgdXNlcklkKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JvenBvY3p5bmFuaWUgZmV0Y2guLi4nKTtcclxuXHJcbiAgICAgICAgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvY3ZmaWxlL3VwbG9hZFBkZicsIHtcclxuICAgICAgICAgICAgLy8gV3lzxYJhbmllIGRvIG9kcG93aWVkbmllZ28gZW5kcG9pbnR1XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICAgICAgICAgICdGZXRjaCB6YWtvxYRjem9ueS4gU3RhdHVzIG9kcG93aWVkemk6JyxcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5zdGF0dXNcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZldGNoIGVycm9yOicsIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpLnRoZW4oKGVycm9yVGV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ09kcG93aWVkxbogc2Vyd2VyYTonLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdDViBzYXZlZCBzdWNjZXNzZnVsbHkhJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBQbyB6YXBpc2FuaXUgQ1YgbmEgc2Vyd2VyemUsIHByemVraWVyb3dhbmllIGRvIHRyemVjaWVnbyBrcm9rdVxyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAndGhpcmRzdGVwLmh0bWwnO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgcG9kY3phcyBwcnpldHdhcnphbmlhIG9kcG93aWVkemk6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ1d5c3TEhXBpxYIgYsWCxIVkIHBvZGN6YXMgemFwaXN5d2FuaWEgQ1Y6ICcgKyBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSkge1xyXG4gICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgIHJldHVybiB1cmxQYXJhbXMuZ2V0KG5hbWUpO1xyXG59XHJcbiJdfQ==
